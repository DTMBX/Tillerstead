---
layout: none
title: Scroll Diagnostic Tool
description: Debug scroll blocking issues
robots: noindex, nofollow
---
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scroll Diagnostic - Tillerstead</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #0a0c0a;
      color: #fff;
      padding: 1rem;
      line-height: 1.6;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
    }
    h1 {
      color: #10b981;
      margin-bottom: 1rem;
    }
    .diagnostic-card {
      background: #1a1c1a;
      border: 1px solid #2e302e;
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 1rem;
    }
    .diagnostic-card h2 {
      color: #10b981;
      font-size: 1.1rem;
      margin-bottom: 0.75rem;
    }
    .status {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 4px;
      font-size: 0.875rem;
      font-weight: 600;
      margin-left: 0.5rem;
    }
    .status.ok { background: #047857; color: #fff; }
    .status.warning { background: #f59e0b; color: #000; }
    .status.error { background: #ef4444; color: #fff; }
    .result-item {
      padding: 0.5rem 0;
      border-bottom: 1px solid #2e302e;
    }
    .result-item:last-child { border-bottom: none; }
    .result-label {
      color: #9ca3af;
      font-size: 0.875rem;
    }
    .result-value {
      color: #fff;
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 0.875rem;
    }
    button {
      background: #10b981;
      color: #fff;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      margin: 0.5rem 0.5rem 0 0;
    }
    button:hover {
      background: #059669;
    }
    button.secondary {
      background: #d4af37;
      color: #000;
    }
    button.danger {
      background: #ef4444;
    }
    .content-spacer {
      height: 150vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #1a1c1a 0%, #0a0c0a 100%);
      border-radius: 8px;
      margin: 2rem 0;
      font-size: 1.5rem;
      color: #10b981;
    }
    pre {
      background: #0a0c0a;
      padding: 1rem;
      border-radius: 4px;
      overflow-x: auto;
      font-size: 0.8125rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üîç Scroll Diagnostic Tool</h1>
    
    <div class="diagnostic-card">
      <h2>Body State</h2>
      <div id="body-state"></div>
    </div>
    
    <div class="diagnostic-card">
      <h2>Overflow & Scroll</h2>
      <div id="overflow-state"></div>
    </div>
    
    <div class="diagnostic-card">
      <h2>Mobile Nav State</h2>
      <div id="nav-state"></div>
    </div>
    
    <div class="diagnostic-card">
      <h2>Pointer Events</h2>
      <div id="pointer-state"></div>
    </div>
    
    <div class="diagnostic-card">
      <h2>Actions</h2>
      <button onclick="runDiagnostics()">üîÑ Refresh Diagnostics</button>
      <button onclick="forceRestoreScroll()" class="secondary">‚úÖ Force Restore Scroll</button>
      <button onclick="simulateNavOpen()" class="danger">üß™ Simulate Nav Open</button>
      <button onclick="simulateNavClose()" class="secondary">üß™ Simulate Nav Close</button>
    </div>
    
    <div class="content-spacer">
      ‚Üì Scroll Down to Test ‚Üì
    </div>
    
    <div class="diagnostic-card">
      <h2>Test Results</h2>
      <pre id="test-results">Scroll to this section to verify scroll is working.</pre>
    </div>
    
    <div class="diagnostic-card">
      <h2>Instructions</h2>
      <ol>
        <li>Check the diagnostics above</li>
        <li>Try scrolling this page with mouse wheel</li>
        <li>Try scrolling with touch (if on mobile)</li>
        <li>Use "Force Restore Scroll" if scroll is blocked</li>
        <li>Test nav open/close simulation</li>
      </ol>
    </div>
  </div>

  <script>
    function getStatus(isOk) {
      return isOk 
        ? '<span class="status ok">OK</span>'
        : '<span class="status error">ISSUE</span>';
    }

    function runDiagnostics() {
      const body = document.body;
      const html = document.documentElement;
      
      // Body State
      const bodyClasses = body.className || '(none)';
      const hasNavOpen = body.classList.contains('nav-open') || body.classList.contains('menu-open');
      const bodyState = `
        <div class="result-item">
          <div class="result-label">Classes:</div>
          <div class="result-value">${bodyClasses}</div>
        </div>
        <div class="result-item">
          <div class="result-label">Nav Open:</div>
          <div class="result-value">${hasNavOpen} ${getStatus(!hasNavOpen)}</div>
        </div>
        <div class="result-item">
          <div class="result-label">Data Scroll Blocked:</div>
          <div class="result-value">${body.dataset.scrollBlocked || 'not set'}</div>
        </div>
      `;
      document.getElementById('body-state').innerHTML = bodyState;
      
      // Overflow State
      const bodyStyle = getComputedStyle(body);
      const htmlStyle = getComputedStyle(html);
      const overflowOk = bodyStyle.overflowY !== 'hidden' || hasNavOpen;
      const overflowState = `
        <div class="result-item">
          <div class="result-label">Body overflow:</div>
          <div class="result-value">${bodyStyle.overflow} ${getStatus(overflowOk)}</div>
        </div>
        <div class="result-item">
          <div class="result-label">Body overflow-y:</div>
          <div class="result-value">${bodyStyle.overflowY} ${getStatus(overflowOk)}</div>
        </div>
        <div class="result-item">
          <div class="result-label">Body overflow-x:</div>
          <div class="result-value">${bodyStyle.overflowX}</div>
        </div>
        <div class="result-item">
          <div class="result-label">HTML overflow-x:</div>
          <div class="result-value">${htmlStyle.overflowX}</div>
        </div>
        <div class="result-item">
          <div class="result-label">Body position:</div>
          <div class="result-value">${bodyStyle.position}</div>
        </div>
        <div class="result-item">
          <div class="result-label">Body height:</div>
          <div class="result-value">${bodyStyle.height}</div>
        </div>
      `;
      document.getElementById('overflow-state').innerHTML = overflowState;
      
      // Nav State
      const navDrawer = document.querySelector('.ts-drawer, #ts-mobile-nav, #mobile-nav-drawer');
      const navOverlay = document.querySelector('.nav-overlay, .ts-drawer__overlay');
      const navState = `
        <div class="result-item">
          <div class="result-label">Nav Drawer Found:</div>
          <div class="result-value">${!!navDrawer}</div>
        </div>
        ${navDrawer ? `
          <div class="result-item">
            <div class="result-label">Nav Drawer aria-hidden:</div>
            <div class="result-value">${navDrawer.getAttribute('aria-hidden')}</div>
          </div>
          <div class="result-item">
            <div class="result-label">Nav Drawer pointer-events:</div>
            <div class="result-value">${getComputedStyle(navDrawer).pointerEvents}</div>
          </div>
        ` : ''}
        <div class="result-item">
          <div class="result-label">Nav Overlay Found:</div>
          <div class="result-value">${!!navOverlay}</div>
        </div>
        ${navOverlay ? `
          <div class="result-item">
            <div class="result-label">Nav Overlay visibility:</div>
            <div class="result-value">${getComputedStyle(navOverlay).visibility}</div>
          </div>
          <div class="result-item">
            <div class="result-label">Nav Overlay pointer-events:</div>
            <div class="result-value">${getComputedStyle(navOverlay).pointerEvents}</div>
          </div>
        ` : ''}
      `;
      document.getElementById('nav-state').innerHTML = navState;
      
      // Pointer Events
      const pointerOk = bodyStyle.pointerEvents !== 'none';
      const pointerState = `
        <div class="result-item">
          <div class="result-label">Body pointer-events:</div>
          <div class="result-value">${bodyStyle.pointerEvents} ${getStatus(pointerOk)}</div>
        </div>
        <div class="result-item">
          <div class="result-label">Can scroll (calculated):</div>
          <div class="result-value">${overflowOk && pointerOk ? 'Yes ‚úÖ' : 'No ‚ùå'}</div>
        </div>
      `;
      document.getElementById('pointer-state').innerHTML = pointerState;
      
      // Test Results
      const testResults = `
Diagnostics run at: ${new Date().toLocaleTimeString()}
Body classes: ${bodyClasses}
Overflow-Y: ${bodyStyle.overflowY}
Pointer Events: ${bodyStyle.pointerEvents}
Scroll should work: ${overflowOk && pointerOk ? 'YES ‚úÖ' : 'NO ‚ùå'}
      `;
      document.getElementById('test-results').textContent = testResults;
    }

    function forceRestoreScroll() {
      const body = document.body;
      body.style.overflow = '';
      body.style.overflowY = '';
      body.style.position = '';
      body.style.height = '';
      body.style.width = '';
      body.classList.remove('nav-open', 'menu-open');
      body.dataset.scrollBlocked = 'false';
      
      // Call global restore if available
      if (window.restoreScroll) {
        window.restoreScroll();
      }
      
      alert('‚úÖ Scroll restored! Try scrolling now.');
      runDiagnostics();
    }

    function simulateNavOpen() {
      document.body.classList.add('nav-open');
      alert('üß™ Simulated nav open. Scroll should be locked.');
      runDiagnostics();
    }

    function simulateNavClose() {
      document.body.classList.remove('nav-open', 'menu-open');
      alert('üß™ Simulated nav close. Scroll should work.');
      runDiagnostics();
    }

    // Run on load
    window.addEventListener('DOMContentLoaded', runDiagnostics);
    
    // Re-run on scroll to show it's working
    let scrollTimeout;
    window.addEventListener('scroll', function() {
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(function() {
        document.getElementById('test-results').textContent = 
          `‚úÖ SCROLL IS WORKING!\nScroll position: ${window.scrollY}px\nLast scroll: ${new Date().toLocaleTimeString()}`;
      }, 100);
    });
  </script>
</body>
</html>
