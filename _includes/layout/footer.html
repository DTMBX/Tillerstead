{% comment %}
  Tillerstead Footer - Premium 2026 Design
  Uses brand data from _data/brand.yml for consistency
  WCAG 2.1 AA compliant with proper ARIA landmarks
{% endcomment %}

{% assign brand = site.data.brand %}
{% assign footer_groups = site.data.navigation.footer %}
{% assign footer_uid = page.url | slugify | default: "home" %}

<footer class="ts-footer scroll-fade-in premium-footer" aria-label="Site Footer" role="contentinfo" itemscope itemtype="https://schema.org/WPFooter">
  <div class="footer-main" tabindex="0">
    
    <!-- Brand Identity Section -->
    <div class="footer-brand">
      <a href="/" class="footer-logo-link" aria-label="{{ brand.company.display_name }} - Go to homepage">
        <img 
          src="/assets/img/logo/logo-optimized.webp" 
          srcset="/assets/img/logo/logo-optimized.webp 1x, /assets/img/logo/logo-optimized@2x.webp 2x"
          alt="{{ brand.company.legal_name }} - {{ brand.messaging.tagline }}" 
          class="footer-logo" 
          width="200" 
          height="200" 
          loading="lazy"
          decoding="async"
          fetchpriority="low"
         />
      </a>
      <div class="footer-brand-text">
        <p class="footer-tagline gradient-animated">{{ brand.messaging.tagline }}</p>
        <p class="footer-service-tagline">{{ brand.messaging.service_tagline }}</p>
      </div>
    </div>

    <!-- Footer Navigation Grid -->
    <nav class="footer-nav" aria-label="Footer navigation" tabindex="0">
      
      <!-- Service Areas - Full Width -->
      {% for group in footer_groups %}
        {% if group.group == "Service Areas" %}
        <section class="footer-group footer-group--service-areas" aria-labelledby="{{ footer_uid }}-footer-areas">
          <h3 class="footer-group-title" id="{{ footer_uid }}-footer-areas">
            <svg class="footer-icon" aria-hidden="true" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
            {{ group.group }}
          </h3>
          <ul class="footer-list footer-list--horizontal" role="list">
            {% for item in group.items %}
            <li><a href="{{ item.url }}">{{ item.title }}</a></li>
            {% endfor %}
          </ul>
        </section>
        {% endif %}
      {% endfor %}

      <!-- Three Column Layout -->
      <div class="footer-columns">
        
        <!-- Learn Column -->
        {% for group in footer_groups %}
          {% if group.group == "Learn" %}
          <section class="footer-group footer-group--learn" aria-labelledby="{{ footer_uid }}-footer-learn">
            <h3 class="footer-group-title" id="{{ footer_uid }}-footer-learn">
              <svg class="footer-icon" aria-hidden="true" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
              {{ group.group }}
            </h3>
            <ul class="footer-list" role="list">
              {% for item in group.items %}
              <li><a href="{{ item.url }}">{{ item.title }}</a></li>
              {% endfor %}
            </ul>
          </section>
          {% endif %}
        {% endfor %}

        <!-- Build Guides Column -->
        {% for group in footer_groups %}
          {% if group.group == "Build Guides" %}
          <section class="footer-group footer-group--guides" aria-labelledby="{{ footer_uid }}-footer-guides">
            <h3 class="footer-group-title" id="{{ footer_uid }}-footer-guides">
              <svg class="footer-icon" aria-hidden="true" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
              {{ group.group }}
            </h3>
            <ul class="footer-list footer-list--two-col" role="list">
              {% for item in group.items %}
              <li><a href="{{ item.url }}">{{ item.title }}</a></li>
              {% endfor %}
            </ul>
          </section>
          {% endif %}
        {% endfor %}

        <!-- Company Column -->
        {% for group in footer_groups %}
          {% if group.group == "Company" %}
          <section class="footer-group footer-group--company" aria-labelledby="{{ footer_uid }}-footer-company">
            <h3 class="footer-group-title" id="{{ footer_uid }}-footer-company">
              <svg class="footer-icon" aria-hidden="true" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
              {{ group.group }}
            </h3>
            <ul class="footer-list" role="list">
              {% for item in group.items %}
              <li><a href="{{ item.url }}">{{ item.title }}</a></li>
              {% endfor %}
            </ul>
          </section>
          {% endif %}
        {% endfor %}

      </div>
    </nav>

    <!-- Contact & Credentials Section -->
    <section class="footer-contact scroll-fade-in" aria-labelledby="{{ footer_uid }}-footer-contact" itemscope itemtype="https://schema.org/LocalBusiness">
      <meta itemprop="name" content="{{ brand.company.legal_name }}" />
      <meta itemprop="image" content="{{ site.url }}/assets/img/logo/logo-optimized.png" />

      <h3 class="footer-group-title" id="{{ footer_uid }}-footer-contact">
        <svg class="footer-icon" aria-hidden="true" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
        Contact Us
      </h3>
      
      <div class="footer-contact-grid" tabindex="0">
        <!-- License Badge -->
        <div class="footer-credential footer-credential--license">
          <svg class="footer-credential-icon" aria-hidden="true" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="M9 12l2 2 4-4"/></svg>
          <div>
            <span class="footer-credential-label"><abbr title="New Jersey Home Improvement Contractor">NJ HIC</abbr> Licensed</span>
            <span class="footer-credential-value" itemprop="identifier">#{{ brand.company.hic_license }}</span>
          </div>
        </div>

        <!-- Address -->
        <address class="footer-address" itemprop="address" itemscope itemtype="https://schema.org/PostalAddress">
          <svg class="footer-icon" aria-hidden="true" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
          <span>
            <span itemprop="streetAddress">{{ brand.address.street }}</span><br>
            <span itemprop="addressLocality">{{ brand.address.city }}</span>, 
            <span itemprop="addressRegion">{{ brand.address.state }}</span> 
            <span itemprop="postalCode">{{ brand.address.postal_code }}</span>
          </span>
        </address>

        <!-- Phone -->
        <a href="tel:{{ brand.company.phone_link }}" class="footer-contact-link footer-contact-link--phone" itemprop="telephone" aria-label="Call {{ brand.company.phone_display }}">
          <svg class="footer-icon" aria-hidden="true" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
          {{ brand.company.phone_display }}
        </a>

        <!-- Email -->
        <a href="mailto:{{ brand.company.email }}" class="footer-contact-link footer-contact-link--email" itemprop="email" aria-label="Email {{ brand.company.email }}">
          <svg class="footer-icon" aria-hidden="true" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
          {{ brand.company.email }}
        </a>
      </div>
    </section>

    <!-- Bottom Bar -->
    <div class="footer-bottom" tabindex="0">
      
      <!-- Social Links -->
      <nav class="footer-social" aria-label="Social media" tabindex="0">
        {% if brand.social.links.facebook %}
        <a href="{{ brand.social.links.facebook }}" target="_blank" rel="noopener noreferrer" aria-label="Tillerstead on Facebook" class="footer-social-link">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
        </a>
        {% endif %}
        {% if brand.social.links.instagram %}
        <a href="{{ brand.social.links.instagram }}" target="_blank" rel="noopener noreferrer" aria-label="Tillerstead on Instagram" class="footer-social-link">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>
        </a>
        {% endif %}
        {% if brand.social.links.twitter %}
        <a href="{{ brand.social.links.twitter }}" target="_blank" rel="noopener noreferrer" aria-label="Tillerstead on X" class="footer-social-link">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
        </a>
        {% endif %}
        <a href="https://www.thumbtack.com/nj/absecon/tile/tillerstead-llc/service/547437618353160199" target="_blank" rel="noopener noreferrer" aria-label="Tillerstead on Thumbtack" class="footer-social-link">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M12 2v14M12 22v-2M8 6h8M6 10h12"/><circle cx="12" cy="6" r="2"/></svg>
        </a>
      </nav>

      <!-- Trust Badges -->
      <div class="footer-trust scroll-fade-in">
        <span class="footer-trust-badge">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
          Fully Insured
        </span>
        <span class="footer-trust-badge">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
          TCNA Compliant
        </span>
        <span class="footer-trust-badge">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><path d="M20 8v6M23 11h-6"/></svg>
          Owner On-Site
        </span>
      </div>

      <!-- Legal Links -->
      <nav class="footer-legal" aria-label="Legal" tabindex="0">
        <a href="/privacy/">Privacy</a>
        <span class="footer-divider" aria-hidden="true">·</span>
        <a href="/terms/">Terms</a>
        <span class="footer-divider" aria-hidden="true">·</span>
        <a href="/disclaimers/">Disclaimers</a>
        <span class="footer-divider" aria-hidden="true">·</span>
        <a href="/copyright/">Copyright</a>
        <span class="footer-divider" aria-hidden="true">·</span>
        <a href="/ventures/" class="footer-ventures-link" rel="nofollow">Ventures</a>
        <span class="footer-divider" aria-hidden="true">·</span>
        <span class="footer-copyright">© {{ 'now' | date: '%Y' }} {{ brand.company.legal_name }}. All Rights Reserved.</span>
      </nav>
      
      <!-- Trademark Notice -->
      <div class="footer-trademark">
        <p class="footer-trademark-text">
          Tillerstead™ and TillerPro™ are trademarks of Tillerstead LLC. 
          Licensed, Bonded, and Insured. NJ HIC #{{ site.company.hic }}.
        </p>
      </div>
      
    </div>
  </div>
</footer>

<!-- Sticky CTA Bar (Revenue Generation) -->
{% include components/sticky-cta.html %}

<!-- Core JavaScript (deferred for performance) -->
<script src="{{ '/assets/js/animation-engine.js' | relative_url }}" defer fetchpriority="low"></script>
<script src="{{ '/assets/js/professional-features.js' | relative_url }}" defer fetchpriority="low"></script>
<script src="{{ '/assets/js/accessibility.js' | relative_url }}?v=2026-01-26-fix" defer fetchpriority="low"></script>

