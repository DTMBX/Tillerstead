{% assign footer_groups = site.data.navigation.footer %}
{% assign footer_uid = page.url | slugify %}
<footer class="ts-footer" aria-label="Site Footer" role="contentinfo">
  <div class="footer-main">
    <!-- Logo Section -->
    <div class="footer-logo-section">
      <a href="/" aria-label="Tillerstead Home">
        <img src="/assets/img/logo/4k-logo.png" alt="Tillerstead LLC - Professional Tile and Stone Installation" class="footer-logo footer-logo--large" width="300" height="300" loading="lazy">
      </a>
      <p class="footer-tagline">Expert Tile & Stone Installation â€” South Jersey</p>
    </div>

    <!-- Footer Navigation - Custom Layout -->
    <nav class="footer-nav-grid" aria-label="Footer navigation">
      <!-- Service Areas - Top Row (wide, horizontal) -->
      {% for group in footer_groups %}{% if group.group == "Service Areas" %}
      <section class="footer-group footer-group--service-areas" aria-labelledby="{{ footer_uid }}-footer-service-areas">
        <h3 class="footer-group-title" id="{{ footer_uid }}-footer-service-areas">{{ group.group }}</h3>
        <ul class="footer-list footer-list--horizontal" role="list">{% for item in group.items %}
          <li><a href="{{ item.url }}">{{ item.title }}</a></li>{% endfor %}
        </ul>
      </section>
      {% endif %}{% endfor %}

      <!-- Bottom Row: Learn | Build Guides | Company -->
      <div class="footer-columns">
        <!-- Learn (left) -->
        {% for group in footer_groups %}{% if group.group == "Learn" %}
        <section class="footer-group footer-group--learn" aria-labelledby="{{ footer_uid }}-footer-learn">
          <h3 class="footer-group-title" id="{{ footer_uid }}-footer-learn">{{ group.group }}</h3>
          <ul class="footer-list" role="list">{% for item in group.items %}
            <li><a href="{{ item.url }}">{{ item.title }}</a></li>{% endfor %}
          </ul>
        </section>
        {% endif %}{% endfor %}

        <!-- Build Guides (center, largest) -->
        {% for group in footer_groups %}{% if group.group == "Build Guides" %}
        <section class="footer-group footer-group--build-guides" aria-labelledby="{{ footer_uid }}-footer-build-guides">
          <h3 class="footer-group-title" id="{{ footer_uid }}-footer-build-guides">{{ group.group }}</h3>
          <ul class="footer-list footer-list--two-col" role="list">{% for item in group.items %}
            <li><a href="{{ item.url }}">{{ item.title }}</a></li>{% endfor %}
          </ul>
        </section>
        {% endif %}{% endfor %}

        <!-- Company (right) -->
        {% for group in footer_groups %}{% if group.group == "Company" %}
        <section class="footer-group footer-group--company" aria-labelledby="{{ footer_uid }}-footer-company">
          <h3 class="footer-group-title" id="{{ footer_uid }}-footer-company">{{ group.group }}</h3>
          <ul class="footer-list" role="list">{% for item in group.items %}
            <li><a href="{{ item.url }}">{{ item.title }}</a></li>{% endfor %}
          </ul>
        </section>
        {% endif %}{% endfor %}
      </div>
    </nav>

    <!-- Contact Section -->
    <section class="footer-contact" aria-labelledby="{{ footer_uid }}-footer-contact-heading">
      <h3 class="footer-group-title" id="{{ footer_uid }}-footer-contact-heading">Contact</h3>
      <p class="footer-license">
        <abbr title="New Jersey Home Improvement Contractor">NJ HIC</abbr> #{{ site.company.hic }}
      </p>
      <address class="footer-address">
        {{ site.company.address_line }}<br>
        {{ site.company.address_city }}, {{ site.company.address_region }} {{ site.company.address_postal_code }}
      </address>
      <p class="footer-contact-phone">
        <a href="tel:{{ site.company.phone_link }}" aria-label="Call us at {{ site.company.phone_display }}">
          {{ site.company.phone_display }}
        </a>
      </p>
      <p class="footer-contact-email">
        <a href="mailto:{{ site.company.email }}" aria-label="Email us at {{ site.company.email }}">
          {{ site.company.email }}
        </a>
      </p>
    </section>

    <!-- Bottom Bar: Social + Legal -->
    <div class="footer-bottom">
      <nav class="footer-social" aria-label="Social media links">
        <a href="https://www.facebook.com/people/Tillerstead-LLC/61580414460056/" target="_blank" rel="noopener noreferrer" aria-label="Visit Tillerstead on Facebook (opens in new window)">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" focusable="false"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
        </a>
        <a href="https://www.thumbtack.com/nj/absecon/tile/tillerstead-llc/service/547437618353160199?utm_medium=web&utm_source=txt&surface=sp" target="_blank" rel="noopener noreferrer" aria-label="View Tillerstead on Thumbtack (opens in new window)">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" focusable="false"><circle cx="12" cy="10" r="3"/><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"/></svg>
        </a>
      </nav>
      <nav class="footer-legal" aria-label="Legal links">
        <a href="/privacy/">Privacy Policy</a>
        <span class="footer-divider" aria-hidden="true">|</span>
        <a href="/terms/">Terms of Service</a>
        <span class="footer-divider" aria-hidden="true">|</span>
        <span class="footer-copyright">&copy; {{ 'now' | date: '%Y' }} Tillerstead LLC. All rights reserved.</span>
      </nav>
    </div>
  </div>
</footer>

<!-- Accessibility JavaScript -->
<script src="{{ '/assets/js/accessibility.js' | relative_url }}" defer></script>

