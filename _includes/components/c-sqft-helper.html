{% assign title = include.title | default: 'Sq Ft Helper (W×L×H)' %}
{% assign note = include.note %}
{% assign enableHeight = include.enableHeight | default: false %}

<div class="sqft-helper" data-sqft-helper
  {% if include.targetFloor %}data-target-floor="{{ include.targetFloor | escape }}"{% endif %}
  {% if include.targetWall %}data-target-wall="{{ include.targetWall | escape }}"{% endif %}>
  <div class="tools-card">
    <h4 class="calc-results__title">{{ title }}</h4>

    <div class="form-grid form-grid--3col">
      <div class="form-field">
        <label class="form-label">Width</label>
        <div class="form-inline">
          <input type="number" class="form-input" data-sqft="width" placeholder="e.g., 8" min="0" step="0.1">
          <span class="form-inline__suffix">ft</span>
        </div>
      </div>
      <div class="form-field">
        <label class="form-label">Length</label>
        <div class="form-inline">
          <input type="number" class="form-input" data-sqft="length" placeholder="e.g., 10" min="0" step="0.1">
          <span class="form-inline__suffix">ft</span>
        </div>
      </div>
      {% if enableHeight %}
        <div class="form-field">
          <label class="form-label">Height</label>
          <div class="form-inline">
            <input type="number" class="form-input" data-sqft="height" placeholder="e.g., 8" min="0" step="0.1">
            <span class="form-inline__suffix">ft</span>
          </div>
        </div>
      {% endif %}
    </div>

    <div class="form-grid form-grid--2col">
      <div class="form-field">
        <label class="form-label">Floor Area</label>
        <div class="form-inline">
          <input type="text" class="form-input" data-sqft-output="floor" value="—" readonly>
          <span class="form-inline__suffix">sq ft</span>
        </div>
        <span class="form-hint">≈ width × length</span>
      </div>
      {% if enableHeight %}
        <div class="form-field">
          <label class="form-label">Wall Area (4 walls)</label>
          <div class="form-inline">
            <input type="text" class="form-input" data-sqft-output="walls" value="—" readonly>
            <span class="form-inline__suffix">sq ft</span>
          </div>
          <span class="form-hint">≈ 2 × height × (width + length)</span>
        </div>
      {% endif %}
    </div>

    <div class="form-actions">
      <div class="btn-group btn-group--horizontal">
        {% if include.targetFloor %}<button type="button" class="btn btn--primary" data-sqft-action="use-floor">Use floor area</button>{% endif %}
        {% if enableHeight and include.targetWall %}<button type="button" class="btn btn--primary" data-sqft-action="use-walls">Use wall area</button>{% endif %}
      </div>
    </div>

    {% if note %}
      <p class="form-hint">{{ note }}</p>
    {% endif %}
  </div>
</div>
