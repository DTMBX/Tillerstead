/* ==========================================
   Nav Enhancements: Dropdown + Drawer
   ========================================== */

/* Dropdown submenu surface (desktop) */
.site-nav .submenu,
.nav-menu .submenu,
.dropdown-menu{
  background: var(--surface);
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
  border-radius: 14px;
  overflow: clip;
}

.site-nav .submenu a,
.nav-menu .submenu a,
.dropdown-menu a{
  display:block;
  padding: .65rem .9rem;
  text-decoration: none;
}

.site-nav .submenu a:hover,
.nav-menu .submenu a:hover,
.dropdown-menu a:hover{
  background: rgb(255,255,255,.06);
}

/* Fix common “transparent nest” issue where submenu inherits background */
.site-nav li,
.nav-menu li{
  position: relative;
}

/* Mobile drawer overlay + drawer surface */
.nav-drawer-overlay{
  position: fixed;
  inset: 0;
  background: rgb(0,0,0,.55);
  backdrop-filter: blur(4px);
  opacity: 0;
  pointer-events: none;
  transition: opacity .18s ease;
  z-index: 998;
}

.nav-drawer{
  position: fixed;
  top: 0;
  right: 0;
  height: 100vh;
  width: min(86vw, 390px);
  background: var(--surface);
  border-left: 1px solid var(--border);
  box-shadow: var(--shadow);
  transform: translateX(102%);
  transition: transform .22s ease;
  z-index: 999;
}

body.nav-open .nav-drawer-overlay{
  opacity: 1;
  pointer-events: auto;
}

body.nav-open .nav-drawer{
  transform: translateX(0);
}

body.nav-open{
  overflow: hidden;
}

/* Drawer links spacing */
.nav-drawer a{
  display:block;
  padding: .85rem 1rem;
  border-radius: 12px;
}

.nav-drawer a:hover{
  background: rgb(255,255,255,.06);
}

/* Optional: make tap targets bigger on mobile */
@media (max-width: 860px){
  .site-nav a{ padding: .65rem .75rem; }
}
