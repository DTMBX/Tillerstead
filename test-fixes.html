---
layout: default
title: Site Fixes Test Page
permalink: /test-fixes/
---

<style>
  .test-section {
    padding: 3rem 1rem;
    border-bottom: 2px solid #e5e7eb;
  }
  
  .test-card {
    background: #f9fafb;
    border: 2px solid #10b981;
    border-radius: 8px;
    padding: 1.5rem;
    margin: 1rem 0;
  }
  
  .test-status {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
    font-size: 0.875rem;
    font-weight: 600;
  }
  
  .status-pass {
    background: #d1fae5;
    color: #065f46;
  }
  
  .status-info {
    background: #dbeafe;
    color: #1e40af;
  }
  
  .demo-box {
    height: 200px;
    background: linear-gradient(135deg, #10b981, #059669);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    font-weight: 700;
    margin: 1rem 0;
    transition: transform 0.3s ease;
  }
  
  .demo-box:hover {
    transform: scale(1.05);
  }
  
  .scroll-content {
    height: 150vh;
    background: linear-gradient(to bottom, #f9fafb, #e5e7eb);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    font-weight: 700;
    color: #6b7280;
  }
</style>

<div class="container">
  <header class="test-section">
    <h1>üß™ Site Fixes Test Page</h1>
    <p class="test-status status-pass">Build: {{ site.time | date: '%Y-%m-%d %H:%M' }}</p>
    <p>This page tests the scroll fix, performance mode, and scaling improvements.</p>
  </header>

  <!-- Scroll Fix Test -->
  <section class="test-section">
    <h2>1. Scroll Fix Test</h2>
    
    <div class="test-card">
      <h3>‚úÖ Scroll Functionality</h3>
      <p><strong>Test:</strong> Open mobile navigation and try scrolling.</p>
      <p><strong>Expected:</strong></p>
      <ul>
        <li>Desktop (&gt; 1080px): Scroll works even with nav open</li>
        <li>Mobile (&lt; 1080px): Scroll blocks when nav is open</li>
        <li>Scroll restores when nav closes</li>
      </ul>
      <button class="btn btn--primary" onclick="window.tsOpenNav ? window.tsOpenNav() : alert('Navigation not loaded')">
        Open Navigation
      </button>
    </div>

    <div class="test-card">
      <h3>üì± Responsive Behavior</h3>
      <p><strong>Current Window Width:</strong> <span id="window-width"></span>px</p>
      <p><strong>Breakpoint:</strong> <span id="breakpoint"></span></p>
      <p><strong>Scroll Enabled:</strong> <span id="scroll-enabled"></span></p>
    </div>
  </section>

  <!-- Performance Mode Test -->
  <section class="test-section">
    <h2>2. Performance Mode (Speedy) Test</h2>
    
    <div class="test-card">
      <h3>‚ö° Performance Toggle</h3>
      <p><strong>Status:</strong> <span id="perf-status">Loading...</span></p>
      <p><strong>Controls:</strong></p>
      <ul>
        <li>Button: Look for "‚ö° Speedy" button in bottom-right corner</li>
        <li>Keyboard: Press <kbd>Alt</kbd> + <kbd>Shift</kbd> + <kbd>S</kbd></li>
        <li>JavaScript: <code>window.tsPerformanceMode.toggle()</code></li>
      </ul>
      <button class="btn btn--accent" onclick="window.tsPerformanceMode && window.tsPerformanceMode.toggle()">
        Toggle Performance Mode
      </button>
    </div>

    <div class="test-card">
      <h3>üé® Animation Demo</h3>
      <div class="demo-box">
        Hover Me (Animation Test)
      </div>
      <p><em>With performance mode OFF: smooth scale animation</em></p>
      <p><em>With performance mode ON: instant (0.01ms)</em></p>
    </div>
  </section>

  <!-- Scaling Test -->
  <section class="test-section">
    <h2>3. Scaling & Zoom Test</h2>
    
    <div class="test-card">
      <h3>üîç Zoom Support</h3>
      <p><strong>Test:</strong> Try pinch-to-zoom (mobile) or Ctrl+/- (desktop)</p>
      <p><strong>Expected:</strong> Page should zoom smoothly</p>
      <p><strong>Current Zoom:</strong> <span id="zoom-level"></span>%</p>
    </div>

    <div class="test-card">
      <h3>üìè Fluid Typography</h3>
      <p><strong>Root Font Size:</strong> <span id="font-size"></span></p>
      <p><strong>Expected:</strong></p>
      <ul>
        <li>320px: 16px</li>
        <li>768px: 18px</li>
        <li>1920px+: 20px</li>
      </ul>
      <p style="font-size: 1rem;">This text uses 1rem (scales with root)</p>
      <p style="font-size: 1.5rem;">This text uses 1.5rem (larger, but scales)</p>
    </div>

    <div class="test-card">
      <h3>üëÜ Touch Targets</h3>
      <p>All buttons should be minimum 44x44px:</p>
      <button class="btn btn--sm">Small (44x44)</button>
      <button class="btn">Default (48x48+)</button>
      <button class="btn btn--lg">Large (56x56+)</button>
    </div>
  </section>

  <!-- Accessibility Test -->
  <section class="test-section">
    <h2>4. Accessibility Features</h2>
    
    <div class="test-card">
      <h3>‚å®Ô∏è Keyboard Navigation</h3>
      <p><strong>Test:</strong> Press <kbd>Tab</kbd> to navigate, <kbd>Enter</kbd> to activate</p>
      <button class="btn">Button 1</button>
      <button class="btn">Button 2</button>
      <button class="btn">Button 3</button>
    </div>

    <div class="test-card">
      <h3>üéØ Focus Indicators</h3>
      <p><strong>Test:</strong> Tab through buttons above. Focus ring should be visible.</p>
      <p><strong>Expected:</strong> 3px solid emerald outline with 3px offset</p>
    </div>

    <div class="test-card">
      <h3>üåó Dark Mode</h3>
      <p><strong>System Preference:</strong> <span id="color-scheme"></span></p>
      <p><strong>Test:</strong> Toggle dark mode in OS settings</p>
    </div>
  </section>

  <!-- Scroll Test Area -->
  <section class="test-section">
    <h2>5. Scroll Behavior Test</h2>
    <p>Scroll down to test smooth scrolling and scroll restoration:</p>
  </section>

  <div class="scroll-content">
    ‚Üì Keep Scrolling ‚Üì
  </div>

  <div class="scroll-content">
    ‚Üë Scroll Back Up ‚Üë
  </div>
</div>

<script>
// Real-time stats updater
function updateStats() {
  // Window width
  const width = window.innerWidth;
  document.getElementById('window-width').textContent = width;
  
  // Breakpoint
  const breakpoint = width < 1080 ? 'Mobile' : 'Desktop';
  document.getElementById('breakpoint').textContent = breakpoint;
  
  // Scroll enabled
  const scrollEnabled = window.tsScrollFix ? window.tsScrollFix.isEnabled() : 'Unknown';
  document.getElementById('scroll-enabled').textContent = scrollEnabled;
  
  // Performance status
  if (window.tsPerformanceMode) {
    const status = window.tsPerformanceMode.enabled ? '‚ö° ENABLED' : '‚ùå DISABLED';
    document.getElementById('perf-status').textContent = status;
  }
  
  // Zoom level
  const zoom = Math.round((window.devicePixelRatio || 1) * 100);
  document.getElementById('zoom-level').textContent = zoom;
  
  // Font size
  const fontSize = window.getComputedStyle(document.documentElement).fontSize;
  document.getElementById('font-size').textContent = fontSize;
  
  // Color scheme
  const darkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
  document.getElementById('color-scheme').textContent = darkMode ? 'Dark' : 'Light';
}

// Update on load
updateStats();

// Update on resize
let resizeTimeout;
window.addEventListener('resize', () => {
  clearTimeout(resizeTimeout);
  resizeTimeout = setTimeout(updateStats, 100);
});

// Update every 2 seconds
setInterval(updateStats, 2000);

// Console log for debugging
console.log('Test Page Loaded');
console.log('tsScrollFix:', window.tsScrollFix);
console.log('tsPerformanceMode:', window.tsPerformanceMode);
</script>
